<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java 集合框架详解 | Java 新手成长记</title>
    <meta name="description" content="全面解析 Java 集合框架，包括 List、Set、Map 等核心接口及其实现类的特点和使用场景。">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Google Fonts - Noto Sans SC -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css">
    
    <!-- Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        secondary: '#60A5FA',
                        accent: '#F59E0B',
                        dark: '#1E293B',
                        light: '#F8FAFC'
                    },
                    fontFamily: {
                        sans: ['Noto Sans SC', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js" data-autoloader-path="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/"></script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .code-block {
                background-color: #1E293B;
                color: #E2E8F0;
                border-radius: 0.5rem;
                padding: 1rem;
                margin: 1rem 0;
                overflow-x: auto;
                font-family: 'Fira Code', monospace;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body class="font-sans bg-light text-dark dark:bg-dark dark:text-white">
    <!-- 导航栏 -->
    <header id="navbar" class="fixed w-full bg-white/90 dark:bg-dark/90 backdrop-blur-md shadow-sm z-50 transition-all duration-300">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <a href="../index.html" class="flex items-center space-x-2">
                        <span class="text-primary text-2xl"><i class="fa fa-code"></i></span>
                        <span class="font-bold text-xl tracking-wide text-primary">Java 新手成长记</span>
                    </a>
                </div>
                
                <div class="hidden md:flex items-center space-x-6">
                    <nav class="flex space-x-8">
                        <a href="../index.html#home" class="text-gray-700 dark:text-gray-200 hover:text-primary font-medium transition-colors">首页</a>
                        <a href="../all-notes.html" class="text-gray-700 dark:text-gray-200 hover:text-primary font-medium transition-colors">所有笔记</a>
                        <a href="../categories.html" class="text-gray-700 dark:text-gray-200 hover:text-primary font-medium transition-colors">分类</a>
                        <a href="../index.html#about" class="text-gray-700 dark:text-gray-200 hover:text-primary font-medium transition-colors">关于我</a>
                    </nav>
                    <button id="theme-toggle" class="inline-flex items-center px-3 py-1.5 rounded-md bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors" title="切换主题">
                        <i class="fa fa-moon-o"></i>
                    </button>
                </div>
                
                <div class="md:hidden flex items-center space-x-3">
                    <button id="theme-toggle-mobile" class="text-gray-700 dark:text-gray-200 hover:text-primary focus:outline-none" title="切换主题">
                        <i class="fa fa-moon-o text-xl"></i>
                    </button>
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-primary focus:outline-none">
                        <i class="fa fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- 移动端菜单 -->
        <div id="mobile-menu" class="hidden md:hidden bg-white dark:bg-dark shadow-lg absolute w-full">
            <div class="px-4 py-4 space-y-3">
                <a href="../index.html#home" class="block text-gray-700 dark:text-gray-200 hover:text-primary font-medium py-2 transition-colors">首页</a>
                <a href="../all-notes.html" class="block text-gray-700 dark:text-gray-200 hover:text-primary font-medium py-2 transition-colors">所有笔记</a>
                <a href="../categories.html" class="block text-gray-700 dark:text-gray-200 hover:text-primary font-medium py-2 transition-colors">分类</a>
                <a href="../index.html#about" class="block text-gray-700 dark:text-gray-200 hover:text-primary font-medium py-2 transition-colors">关于我</a>
            </div>
        </div>
    </header>

    <!-- 笔记内容区域 -->
    <section class="pt-28 pb-20 bg-white dark:bg-dark">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="max-w-3xl mx-auto">
                <!-- 笔记标题和元信息 -->
                <div class="mb-10 text-center">
                    <span class="inline-block bg-primary/10 text-primary text-xs font-bold px-3 py-1 rounded-full mb-4">Java 核心</span>
                    <h1 class="text-[clamp(1.8rem,4vw,2.5rem)] font-bold text-dark dark:text-white mb-4">Java 集合框架详解</h1>
                    <div class="flex items-center justify-center text-sm text-gray-500 space-x-4">
                        <span class="flex items-center"><i class="fa fa-calendar-o mr-2"></i> 2024-06-20</span>
                        <span class="flex items-center"><i class="fa fa-clock-o mr-2"></i> 阅读时间: 约 18 分钟</span>
                    </div>
                </div>
                
                <!-- 笔记正文 -->
                <div class="prose prose-lg max-w-none text-gray-700 dark:text-gray-300">
                    <p>大家好！集合框架是 Java 编程中最重要的部分之一。它提供了一套性能优良、设计良好的接口和类，用于存储和操作对象组。今天，让我们深入了解 Java 集合框架的核心概念和使用方法。</p>
                    
                    <h2>1. 集合框架概述</h2>
                    <p>Java 集合框架（Java Collections Framework）是一组用于存储和操作对象的统一架构。它提供了：</p>
                    <ul>
                        <li>一组接口（如 Collection、List、Set、Map）</li>
                        <li>这些接口的实现类（如 ArrayList、HashSet、HashMap）</li>
                        <li>算法（如排序、搜索）</li>
                    </ul>
                    
                    <h2>2. 集合框架的层次结构</h2>
                    <p>集合框架主要分为两大接口：</p>
                    <ul>
                        <li><strong>Collection 接口</strong>：存储单个元素的集合</li>
                        <li><strong>Map 接口</strong>：存储键值对的集合</li>
                    </ul>
                    
                    <h2>3. List 接口</h2>
                    <p>List 是有序的集合，允许重复元素。主要实现类：</p>
                    
                    <h3>ArrayList</h3>
                    <p>基于动态数组实现，查询快，增删慢：</p>
                    <div class="code-block">
<pre><code class="language-java">List<String> list = new ArrayList<>();
list.add("Java");
list.add("Python");
list.add("Java"); // 允许重复

// 遍历方式
for (String item : list) {
    System.out.println(item);
}

// 使用索引访问
System.out.println(list.get(0)); // Java</code></pre>
                    </div>
                    
                    <h3>LinkedList</h3>
                    <p>基于双向链表实现，增删快，查询慢：</p>
                    <div class="code-block">
<pre><code class="language-java">List<String> linkedList = new LinkedList<>();
linkedList.add("A");
linkedList.add("B");
linkedList.addFirst("First"); // 链表特有方法
linkedList.addLast("Last");   // 链表特有方法</code></pre>
                    </div>
                    
                    <h2>4. Set 接口</h2>
                    <p>Set 是不允许重复元素的集合。主要实现类：</p>
                    
                    <h3>HashSet</h3>
                    <p>基于哈希表实现，无序，查询速度快：</p>
                    <div class="code-block">
<pre><code class="language-java">Set<String> set = new HashSet<>();
set.add("Java");
set.add("Python");
set.add("Java"); // 重复，不会添加成功

System.out.println(set.size()); // 2</code></pre>
                    </div>
                    
                    <h3>LinkedHashSet</h3>
                    <p>基于哈希表和链表实现，保持插入顺序：</p>
                    <div class="code-block">
<pre><code class="language-java">Set<String> linkedSet = new LinkedHashSet<>();
linkedSet.add("Third");
linkedSet.add("First");
linkedSet.add("Second");

// 遍历顺序与插入顺序一致
for (String item : linkedSet) {
    System.out.println(item); // Third, First, Second
}</code></pre>
                    </div>
                    
                    <h3>TreeSet</h3>
                    <p>基于红黑树实现，自动排序：</p>
                    <div class="code-block">
<pre><code class="language-java">Set<Integer> treeSet = new TreeSet<>();
treeSet.add(3);
treeSet.add(1);
treeSet.add(2);

for (Integer item : treeSet) {
    System.out.println(item); // 1, 2, 3（自动排序）
}</code></pre>
                    </div>
                    
                    <h2>5. Map 接口</h2>
                    <p>Map 存储键值对，键不能重复。主要实现类：</p>
                    
                    <h3>HashMap</h3>
                    <p>基于哈希表实现，无序，查询速度快：</p>
                    <div class="code-block">
<pre><code class="language-java">Map<String, Integer> map = new HashMap<>();
map.put("Java", 95);
map.put("Python", 88);
map.put("JavaScript", 92);

System.out.println(map.get("Java")); // 95

// 遍历方式
for (Map.Entry<String, Integer> entry : map.entrySet()) {
    System.out.println(entry.getKey() + ": " + entry.getValue());
}</code></pre>
                    </div>
                    
                    <h3>LinkedHashMap</h3>
                    <p>保持插入顺序的 Map：</p>
                    <div class="code-block">
<pre><code class="language-java">Map<String, String> linkedMap = new LinkedHashMap<>();
linkedMap.put("third", "3");
linkedMap.put("first", "1");
linkedMap.put("second", "2");

// 遍历顺序与插入顺序一致</code></pre>
                    </div>
                    
                    <h3>TreeMap</h3>
                    <p>基于红黑树实现，按键自动排序：</p>
                    <div class="code-block">
<pre><code class="language-java">Map<String, Integer> treeMap = new TreeMap<>();
treeMap.put("C", 3);
treeMap.put("A", 1);
treeMap.put("B", 2);

// 按键的字母顺序遍历</code></pre>
                    </div>
                    
                    <h2>6. 集合的常用操作</h2>
                    
                    <h3>遍历集合</h3>
                    <div class="code-block">
<pre><code class="language-java">List<String> list = Arrays.asList("A", "B", "C");

// 方式1：for-each 循环
for (String item : list) {
    System.out.println(item);
}

// 方式2：Java 8 Lambda 表达式
list.forEach(item -> System.out.println(item));

// 方式3：Stream API
list.stream().forEach(System.out::println);</code></pre>
                    </div>
                    
                    <h3>集合的转换</h3>
                    <div class="code-block">
<pre><code class="language-java">List<String> list = Arrays.asList("1", "2", "3");

// List 转 Set
Set<String> set = new HashSet<>(list);

// Set 转 List
List<String> newList = new ArrayList<>(set);</code></pre>
                    </div>
                    
                    <h3>集合的过滤和映射</h3>
                    <div class="code-block">
<pre><code class="language-java">List<String> names = Arrays.asList("Java", "Python", "JavaScript", "C++");

// 过滤：筛选出包含 "Java" 的元素
List<String> javaNames = names.stream()
    .filter(name -> name.contains("Java"))
    .collect(Collectors.toList());

// 映射：转换为大写
List<String> upperNames = names.stream()
    .map(String::toUpperCase)
    .collect(Collectors.toList());</code></pre>
                    </div>
                    
                    <h2>7. 集合的选择建议</h2>
                    
                    <h3>List 的选择</h3>
                    <ul>
                        <li><strong>ArrayList</strong>：查询多，增删少，随机访问频繁</li>
                        <li><strong>LinkedList</strong>：增删多，查询少，需要频繁插入删除</li>
                    </ul>
                    
                    <h3>Set 的选择</h3>
                    <ul>
                        <li><strong>HashSet</strong>：只需要去重，不关心顺序</li>
                        <li><strong>LinkedHashSet</strong>：需要去重且保持插入顺序</li>
                        <li><strong>TreeSet</strong>：需要去重且需要排序</li>
                    </ul>
                    
                    <h3>Map 的选择</h3>
                    <ul>
                        <li><strong>HashMap</strong>：只需要键值映射，不关心顺序</li>
                        <li><strong>LinkedHashMap</strong>：需要保持插入顺序</li>
                        <li><strong>TreeMap</strong>：需要按键排序</li>
                    </ul>
                    
                    <h2>8. 集合的线程安全</h2>
                    <p>在多线程环境下，需要使用线程安全的集合：</p>
                    <div class="code-block">
<pre><code class="language-java">// 使用 Collections.synchronizedXXX 方法
List<String> syncList = Collections.synchronizedList(new ArrayList<>());
Set<String> syncSet = Collections.synchronizedSet(new HashSet<>());
Map<String, String> syncMap = Collections.synchronizedMap(new HashMap<>());

// 或者使用并发包中的集合
List<String> copyOnWriteList = new CopyOnWriteArrayList<>();
Set<String> concurrentSet = new ConcurrentHashMap<String, Boolean>().keySet(true);</code></pre>
                    </div>
                    
                    <h2>总结</h2>
                    <p>Java 集合框架提供了丰富的数据结构和算法，掌握各种集合的特点和使用场景对于编写高效的 Java 程序至关重要。记住：</p>
                    <ul>
                        <li>List 适合有序、可重复的元素集合</li>
                        <li>Set 适合无序、不可重复的元素集合</li>
                        <li>Map 适合键值对的存储</li>
                        <li>根据具体需求选择合适的实现类</li>
                        <li>在多线程环境下考虑线程安全问题</li>
                    </ul>
                </div>
                
                <!-- 返回按钮 -->
                <div class="mt-16 text-center">
                    <a href="../index.html#articles" class="inline-flex items-center justify-center bg-white border-2 border-primary text-primary hover:bg-primary hover:text-white font-bold px-8 py-3 rounded-full transition-all shadow-sm hover:shadow-lg">
                        <i class="fa fa-arrow-left mr-2"></i> 返回笔记列表
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="bg-dark text-white py-16">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col items-center text-center">
                <div class="flex items-center space-x-2 mb-6">
                    <span class="text-primary text-2xl"><i class="fa fa-code"></i></span>
                    <span class="font-bold text-xl tracking-wide text-white">Java 新手成长记</span>
                </div>
                <p class="text-gray-400 mb-8 max-w-md">
                    记录 Java 学习路上的点点滴滴，与万千开发者一起成长。
                </p>
                <div class="border-t border-gray-800 w-full pt-8">
                    <p class="text-gray-500">
                        &copy; <span id="current-year"></span> Java 新手成长记. 保留所有权利.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        const root = document.documentElement;
        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        if (savedTheme === 'dark' || (!savedTheme && prefersDark)) { root.classList.add('dark'); }
        const themeToggle = document.getElementById('theme-toggle');
        const themeToggleMobile = document.getElementById('theme-toggle-mobile');
        const toggleTheme = () => {
            root.classList.toggle('dark');
            localStorage.setItem('theme', root.classList.contains('dark') ? 'dark' : 'light');
        };
        themeToggle && themeToggle.addEventListener('click', toggleTheme);
        themeToggleMobile && themeToggleMobile.addEventListener('click', toggleTheme);
        // 设置当前年份
        document.getElementById('current-year').textContent = new Date().getFullYear();
        
        // 移动端菜单切换
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });
        
        // 导航栏滚动效果
        const navbar = document.getElementById('navbar');
        
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                navbar.classList.add('shadow-md');
                navbar.classList.remove('shadow-sm');
                navbar.classList.add('bg-white/95');
                navbar.classList.add('dark:bg-dark/95');
            } else {
                navbar.classList.remove('shadow-md');
                navbar.classList.add('shadow-sm');
                navbar.classList.remove('bg-white/95');
                navbar.classList.remove('dark:bg-dark/95');
            }
        });
    </script>
</body>
</html>